# Environment and Config

## Environment Setup

### Jac Installation
Ensure Python 3.12 or higher is installed.
```bash
python -m pip install -U jaclang
```

### CLI Usage
- Check Jac version:
    ```bash
    jac --version
    ```
- Run a Jac file:
    ```bash
    jac run <file_name>.jac
    ```
- Example "Hello World":
    ```bash
    echo "with entry { print('Hello world'); }" > test.jac;
    jac run test.jac;
    rm test.jac;
    ```

### Development Environment
- **Pre-commit Hooks:**
    ```bash
    python3 -m venv ~/.jacenv/
    source ~/.jacenv/bin/activate
    pip3 install pre-commit pytest pytest-xdist
    pre-commit install
    ```
    This sets up `black` for linting and `mypy` for type checking.

### VS Code / Cursor Extension
- **VS Code:** Install the [Jac Extension](https://marketplace.visualstudio.com/items?itemName=jaseci-labs.jaclang-extension) from the marketplace.
- **Cursor:**
    1. Download `jaclang-extension-*.vsix` from the [latest Jaseci release](https://github.com/Jaseci-Labs/jaseci/releases/latest).
    2. In Cursor, press `Ctrl+ShiftP` (or `Cmd+ShiftP`).
    3. Type `>install from vsix` and select the command.
    4. Select the downloaded VSIX file.

## Configuration

### Single Sign-On (SSO) Environment Variables
To configure SSO, obtain client credentials from your chosen platform (e.g., Google, GitHub, Facebook).

#### Basic Pattern
```bash
# Replace PLATFORM with: GOOGLE, GITHUB, FACEBOOK, etc.
export SSO_{PLATFORM}_CLIENT_ID="your_client_id"
export SSO_{PLATFORM}_CLIENT_SECRET="your_client_secret"
```

#### Google Examples
- **Web:**
    ```bash
    export SSO_GOOGLE_CLIENT_ID="123456789-abcdef.apps.googleusercontent.com"
    export SSO_GOOGLE_CLIENT_SECRET="GOCSPX-abcdefghijklmnop"
    ```
- **iOS:**
    ```bash
    export SSO_GOOGLE_IOS_CLIENT_ID="123456789-abcdef.apps.googleusercontent.com"
    export SSO_GOOGLE_IOS_CLIENT_SECRET="GOCSPX-abcdefghijklmnop"
    ```
- **Android:**
    ```bash
    export SSO_GOOGLE_ANDROID_CLIENT_ID="123456789-abcdef.apps.googleusercontent.com"
    export SSO_GOOGLE_ANDROID_CLIENT_SECRET="GOCSPX-abcdefghijklmnop"
    ```

#### Apple-Specific SSO Configuration
Apple requires additional variables for client secret generation:

| Variable                          | Description                     |
| :-------------------------------- | :------------------------------ |
| `SSO_APPLE_CLIENT_ID`             | Apple client ID                 |
| `SSO_APPLE_CLIENT_TEAM_ID`        | Apple developer team ID         |
| `SSO_APPLE_CLIENT_KEY`            | Apple client key                |
| `SSO_APPLE_CLIENT_CERTIFICATE_PATH` | Path to Apple client certificate |
| `SSO_APPLE_CLIENT_CERTIFICATE`    | Raw Apple client certificate content |

#### Backend Server
After setting SSO environment variables, run the backend:
```bash
jac serve main.jac
```
This command will provide the `backendURL` of the FastAPI server.